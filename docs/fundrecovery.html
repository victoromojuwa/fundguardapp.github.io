<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>FundGuard Africa ‚Äî Fund Recovery</title>
<meta name="description" content="Open a recovery case, trace flows, and generate a legal-grade evidence report (MVP simulation)." />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
<style>
:root{
  --ink:#0b1e27; --muted:#5b6a78;
  --gold:#d4af37; --gold-2:#b9972b;
  --bg:#ffffff; --pane:#f6f8fa; --line:#e7edf2;
  --ok:#17a673; --warn:#ff9f1a; --bad:#e03e3e;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif}
a{color:inherit;text-decoration:none}
.container{max-width:980px;margin:0 auto;padding:0 20px}

/* Header */
header{background:linear-gradient(180deg,#0f2530 0%,#0b1e27 60%,#0b1e27 100%);color:#eaf3f6;border-bottom:1px solid rgba(255,255,255,.08)}
.topbar{display:flex;justify-content:space-between;align-items:center;padding:14px 0}
.brand{display:flex;align-items:center;gap:10px}
.dot{width:12px;height:12px;border-radius:3px;background:var(--gold)}
.brand b{font-weight:900;color:#fff;letter-spacing:.2px}
.brand b span{color:var(--gold)}
nav a{color:#d7e6ed;margin-left:18px;font-weight:700;opacity:.95}
nav a:hover{opacity:1}
.hero{padding:28px 0 18px}
.hero h1{margin:0 0 6px;color:#fff;font-size:30px;font-weight:900}
.hero p{margin:0;color:#cfe3ea}

/* Main */
.section{padding:26px 0}
.panel{background:#fff;border:1px solid var(--line);border-radius:14px;padding:16px}
.row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
label{font-weight:800;font-size:13px;color:#31424e}
input,select,textarea{
  width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--line);background:#fff;font-size:14px;color:var(--ink)
}
textarea{min-height:120px;resize:vertical}
small{color:var(--muted)}
.hint{font-size:12px;color:var(--muted);margin-top:6px}

.btn{display:inline-flex;align-items:center;gap:8px;padding:12px 16px;border-radius:12px;font-weight:900;border:1px solid var(--line);background:#fff;transition:.2s;cursor:pointer}
.btn:hover{transform:translateY(-1px);box-shadow:0 8px 16px rgba(0,0,0,.06)}
.btn-primary{background:var(--gold);border-color:transparent;color:#0b1e27}
.btn-primary:hover{background:var(--gold-2)}
.btn-ghost{background:#fff}

/* Report */
.report{margin-top:16px;background:var(--pane);border:1px solid var(--line);border-radius:12px;padding:16px;display:none}
.report h3{margin:0 0 10px}
.kv{display:grid;grid-template-columns:180px 1fr;gap:6px 14px}
.kv div{padding:4px 0;border-bottom:1px dashed #e6edf2}
.kv div b{font-weight:800}
.badge{display:inline-block;padding:3px 8px;border-radius:999px;border:1px solid #e6edf2;background:#fff;font-weight:800;font-size:12px}
.bad{color:#7d1f1f;background:rgba(224,62,62,.10);border-color:rgba(224,62,62,.35)}
.ok{color:#0d5e46;background:rgba(23,166,115,.10);border-color:rgba(23,166,115,.35)}
.warn{color:#7a4a00;background:rgba(255,159,26,.10);border-color:rgba(255,159,26,.35)}

.actions{margin:10px 0 0;padding-left:18px}
.actions li{margin:4px 0}
.downloads{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
.notice{font-size:12px;color:var(--muted);margin-top:6px}

/* Footer */
footer{border-top:1px solid var(--line);background:#0b1e27;color:#e6edf2;margin-top:28px}
.foot{display:flex;flex-wrap:wrap;gap:14px;justify-content:space-between;padding:18px 0}
.foot a{color:#cfe3ea}

/* Print to PDF */
@media print{
  header,footer,.no-print{display:none !important}
  .container{max-width:none}
  .report{display:block}
}
@media(max-width:780px){ .row{grid-template-columns:1fr} .kv{grid-template-columns:1fr} }
</style>
</head>
<body>
<header>
  <div class="container topbar">
    <div class="brand"><span class="dot"></span><b>FundGuard <span>Africa</span></b></div>
    <nav>
      <a href="index.html">Home</a>
      <a href="onepager.html">One-Pager</a>
      <a href="mvp.html">MVP Demo</a>
    </nav>
  </div>
  <div class="container hero">
    <h1>Fund Recovery</h1>
    <p>Open a case, trace money flows, and generate a legal-grade evidence report (MVP simulation).</p>
  </div>
</header>

<main class="container section">
  <section class="panel no-print" aria-label="Open a recovery case">
    <form id="recoveryForm" autocomplete="off">
      <!-- anti-spam honeypot -->
      <input type="text" name="website" style="position:absolute;left:-9999px;top:-9999px;height:0;width:0" tabindex="-1" aria-hidden="true">

      <div class="row">
        <div>
          <label>Full Name</label>
          <input required name="name" placeholder="Jane Doe" />
        </div>
        <div>
          <label>Email</label>
          <input required type="email" name="email" placeholder="jane@example.com" />
        </div>
      </div>

      <div class="row">
        <div>
          <label>Country</label>
          <select name="country" required>
            <option value="">Select country</option>
            <option>Nigeria üá≥üá¨</option><option>Kenya üá∞üá™</option><option>Ghana üá¨üá≠</option>
            <option>South Africa üáøüá¶</option><option>Uganda üá∫üá¨</option><option>Tanzania üáπüáø</option>
          </select>
        </div>
        <div>
          <label>Case Type</label>
          <select name="type" required>
            <option value="">Select case type</option>
            <option>Fraud Investigation</option>
            <option>Identity Theft</option>
            <option>Payment Fraud</option>
            <option>Account Takeover</option>
            <option>Phishing Attack</option>
            <option>Cyber Crime</option>
            <option>Other</option>
          </select>
        </div>
      </div>

      <div class="row">
        <div>
          <label>Amount</label>
          <input required type="number" min="1" step="1" name="amount" placeholder="100000" />
          <div class="hint">Enter amount in USD (MVP)</div>
        </div>
        <div>
          <label>Transaction ID (optional)</label>
          <input name="txid" placeholder="e.g., REF-9X2C..." />
        </div>
      </div>

      <div class="row">
        <div>
          <label>Channel</label>
          <select name="channel">
            <option>Bank</option><option>Mobile Money</option><option>Crypto</option><option>Card</option><option>Other</option>
          </select>
        </div>
        <div>
          <label>Counter-party (Acct/Wallet)</label>
          <input name="counterparty" placeholder="e.g., 0021-***-542 / 0xA1...F9" />
        </div>
      </div>

      <div class="row">
        <div>
          <label>Incident Date/Time</label>
          <input type="datetime-local" name="when" />
        </div>
        <div>
          <label>Reference (optional)</label>
          <input name="ref" placeholder="Your internal reference" />
        </div>
      </div>

      <div style="margin-top:8px">
        <label>Incident Description</label>
        <textarea name="desc" placeholder="What happened? Include dates, channels, known accounts, and context."></textarea>
      </div>

      <div style="margin-top:10px;display:flex;align-items:center;gap:10px">
        <input type="checkbox" id="consent" required />
        <label for="consent"><small>I confirm the above information is accurate to the best of my knowledge and consent to simulated analysis for the MVP.</small></label>
      </div>

      <div style="display:flex;gap:10px;margin-top:14px">
        <button type="submit" class="btn btn-primary">üîç Start Recovery Simulation</button>
        <button type="reset" class="btn btn-ghost">‚Ü∫ Reset</button>
      </div>
      <div class="hint" style="margin-top:6px">This MVP performs a simulated route and recovery preview. No real banking actions are executed.</div>
    </form>
  </section>

  <!-- Generated Report -->
  <section id="report" class="report" aria-live="polite" aria-label="Generated evidence report">
    <h3>FundGuard Evidence Report (MVP)</h3>

    <div class="kv" id="kv"></div>

    <h4 style="margin:14px 0 6px">Timeline</h4>
    <ul id="timeline" style="margin:6px 0 0 18px"></ul>

    <h4 style="margin:14px 0 6px">Recommended Actions</h4>
    <ul class="actions" id="actions"></ul>

    <div class="downloads no-print">
      <button class="btn" id="dlTxt">‚¨áÔ∏è Download .TXT</button>
      <button class="btn" id="dlMd">‚¨áÔ∏è Download .MD</button>
      <button class="btn" id="dlJson">‚¨áÔ∏è Download .JSON</button>
      <button class="btn" onclick="window.print()">üñ®Ô∏è Print / Save as PDF</button>
    </div>
    <p class="notice no-print">For formal PDF export and case officer assignment, please contact:
      <a href="mailto:invest@fundguardafrica.com">invest@fundguardafrica.com</a>
    </p>
  </section>
</main>

<footer>
  <div class="container foot">
    <div>¬© 2025 FundGuard Technologies Ltd ‚Äî Fraud detection & fund recovery</div>
    <div>
      <a href="mailto:fundguardafrica@gmail.com">fundguardafrica@gmail.com</a> ‚Ä¢
      <a href="mailto:support@fundguardafrica.com">support@fundguardafrica.com</a> ‚Ä¢
      <a href="mailto:invest@fundguardafrica.com">invest@fundguardafrica.com</a>
    </div>
  </div>
</footer>

<script>
const $ = s => document.querySelector(s);
const kv = $('#kv'), timeline = $('#timeline'), actions = $('#actions');
const reportSec = $('#report');

function genCaseId(){ return 'FG-' + new Date().getTime() + '-' + Math.random().toString(36).slice(2,6).toUpperCase(); }
function stamp(){ return new Date().toLocaleString(); }
function asUSD(n){ return '$' + Number(n||0).toLocaleString(); }

function toMD(text){
  return text.replaceAll(/<br\s*\/?>/gi,'\n')
    .replaceAll(/<\/?b>/gi,'**')
    .replaceAll(/<\/?strong>/gi,'**')
    .replaceAll(/<\/?em>/gi,'*')
    .replaceAll(/<\/?ul>/gi,'\n')
    .replaceAll(/<li>/gi,'- ')
    .replaceAll(/<\/li>/gi,'\n')
    .replaceAll(/<[^>]+>/g,'')
    .trim();
}
function downloadBlob(filename, mime, content){
  const blob = new Blob([content], {type:mime});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a'); a.href=url; a.download=filename; a.click();
  URL.revokeObjectURL(url);
}

function recoveryScore(amount, type){
  let score = 40;
  if (amount > 100000) score += 20;
  if (/payment|account/i.test(type)) score += 10;
  if (/crypto/i.test(type)) score -= 5;
  if (/identity/i.test(type)) score -= 5;
  return Math.max(10, Math.min(95, score));
}

function buildTimeline(amount){
  return [
    `Intermediate bank detected ‚Äî Amount ${asUSD(amount)}`,
    `Wallet Y routed ‚Äî ${asUSD(Math.round(amount*0.48))}`,
    `Exchange Z cash-out attempt ‚Äî ${asUSD(Math.round(amount*0.60))}`,
    `Freeze request sent to Exchange Z & Wallet Y`,
    `Recovery action queued`,
    `Awaiting KYC verification & legal hold`,
    `Bank compliance ticket opened; regulatory reference generated`
  ];
}

function buildActions(channel){
  const base = [
    'Submit formal freeze request to receiving bank/exchange.',
    'File incident with national CERT/cybercrime unit.',
    'Prepare legal hold notice; preserve all evidence.'
  ];
  if (/crypto/i.test(channel)) base.push('Notify exchange compliance and blockchain analytics partner.');
  if (/mobile/i.test(channel)) base.push('Contact mobile money operator‚Äôs fraud desk for rapid freeze.');
  return base;
}

function kvRow(label, value){ const d1=document.createElement('div'); d1.innerHTML = `<b>${label}</b>`; const d2=document.createElement('div'); d2.textContent = value; kv.appendChild(d1); kv.appendChild(d2); }

$('#recoveryForm').addEventListener('submit', (e)=>{
  e.preventDefault();
  const fd = new FormData(e.target);
  if ((fd.get('website')||'').trim() !== '') return; // honeypot

  const data = {
    caseId: genCaseId(),
    submitted: stamp(),
    name: fd.get('name')||'‚Äî',
    email: fd.get('email')||'‚Äî',
    country: fd.get('country')||'‚Äî',
    type: fd.get('type')||'‚Äî',
    amount: Number(fd.get('amount')||0),
    txid: fd.get('txid')||'‚Äî',
    channel: fd.get('channel')||'‚Äî',
    counterparty: fd.get('counterparty')||'‚Äî',
    when: fd.get('when')||'‚Äî',
    ref: fd.get('ref')||'‚Äî',
    desc: (fd.get('desc')||'‚Äî').toString().trim()
  };

  const score = recoveryScore(data.amount, data.type);
  const timelineItems = buildTimeline(data.amount);
  const actionItems = buildActions(data.channel);

  // Fill KV grid
  kv.innerHTML = '';
  kvRow('Case ID', data.caseId);
  kvRow('Submitted', data.submitted);
  kvRow('Reporter', `${data.name} (${data.email})`);
  kvRow('Country', data.country);
  kvRow('Case Type', data.type);
  kvRow('Channel', data.channel);
  kvRow('Counter-party', data.counterparty);
  kvRow('Incident Time', data.when);
  kvRow('Amount', asUSD(data.amount));
  kvRow('Transaction ID', data.txid);
  kvRow('Reference', data.ref);
  kvRow('Recovery Score', `${score}/100`);

  // Timeline
  timeline.innerHTML = '';
  timelineItems.forEach(t => { const li=document.createElement('li'); li.textContent=t; timeline.appendChild(li); });

  // Actions
  actions.innerHTML = '';
  actionItems.forEach(t => { const li=document.createElement('li'); li.textContent=t; actions.appendChild(li); });

  // Show the report
  reportSec.style.display = 'block';
  location.hash = '#report';

  // Downloads
  const flat = `
FundGuard Evidence Report (MVP)
Case ID: ${data.caseId}
Submitted: ${data.submitted}

Reporter: ${data.name} (${data.email})
Country: ${data.country}
Case Type: ${data.type}
Channel: ${data.channel}
Counter-party: ${data.counterparty}
Incident Time: ${data.when}
Amount: ${asUSD(data.amount)}
Transaction ID: ${data.txid}
Reference: ${data.ref}

Description:
${data.desc}

Timeline:
- ${timelineItems.join('\n- ')}

Recovery Score: ${score}/100

Recommended Actions:
- ${actionItems.join('\n- ')}

Status: In progress (MVP simulation)
Next: Compliance review, counter-party notifications, legal hold issuance.
`.trim();

  const json = JSON.stringify({meta:data,timeline:timelineItems,score,actions:actionItems,status:'In progress (MVP simulation)'}, null, 2);

  $('#dlTxt').onclick = ()=>downloadBlob('FundGuard_Evidence_Report.txt','text/plain;charset=utf-8',flat);
  $('#dlMd').onclick  = ()=>downloadBlob('FundGuard_Evidence_Report.md','text/markdown;charset=utf-8',flat.replaceAll('\n', '\n\n'));
  $('#dlJson').onclick= ()=>downloadBlob('FundGuard_Evidence_Report.json','application/json;charset=utf-8',json);
});
</script>
</body>
</html>
