<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>FundGuard Africa ‚Äî Investor Demo (Live)</title>
<meta name="description" content="Live investor demo for FundGuard Africa ‚Äî AI-powered fraud detection and fund recovery simulation with evidence report." />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/assets/css/fundguard.css" />
<style>
/* Page-specific polish (keeps global theme) */
.demo-wrap{max-width:1100px;margin:0 auto;padding:24px 18px}
.panel{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:18px;margin-bottom:16px}
.panel h3{margin:0 0 8px}
.krow{display:grid;gap:12px}
@media(min-width:860px){.krow{grid-template-columns:1fr 1fr}}
.badge{display:inline-block;border:1px solid var(--line);border-radius:999px;padding:6px 10px;color:var(--text-muted);margin-right:6px}
.table{width:100%;border-collapse:collapse}
.table th,.table td{padding:10px;border-bottom:1px solid var(--line);text-align:left}
.table th{color:var(--text-muted);font-weight:700}
.pulse{animation: pulse 1.8s infinite}
@keyframes pulse{0%{opacity:.55}50%{opacity:1}100%{opacity:.55}}
.tag-ok{color:#0fd08a}
.tag-warn{color:#e2c35a}
.tag-bad{color:#ff6868}
.actions{display:flex;gap:10px;flex-wrap:wrap}
.small{font-size:.95rem;color:var(--text-muted)}
pre.log{background:#08151c;border:1px solid var(--line);border-radius:12px;padding:12px;max-height:220px;overflow:auto}
</style>
</head>
<body>

<header class="hero">
  <div class="container">
    <div class="brand">Fund<span class="fg">Guard</span> Africa</div>
    <h1>Investor Demo (Live)</h1>
    <p class="lead">Live alerts, anomaly detection and downloadable evidence reports (simulation). Country, location & local time included for clarity.</p>
    <div class="cta-row">
      <a class="btn btn-gold" href="/fundrecovery.html">üí∏ Fund Recovery</a>
      <a class="btn btn-outline" href="/onepager.html">üìÑ Investor One Pager</a>
      <a class="btn btn-ghost" href="/">üè† Back to Home</a>
    </div>
  </div>
</header>

<section class="section">
  <div class="demo-wrap">

    <!-- Status overview -->
    <div class="panel">
      <h3>üì° Live Status</h3>
      <div class="krow">
        <div>
          <span class="badge">Stream: <b class="pulse">ACTIVE</b></span>
          <span class="badge">Anomalies (last 5 min): <b id="kpiAnom">0</b></span>
          <span class="badge">Evidence Reports: <b id="kpiReports">0</b></span>
        </div>
        <div class="small">
          <b>Note:</b> This is a simulated investor demo. Flows mirror production behavior without exposing live user data.
        </div>
      </div>
    </div>

    <!-- Live Alerts -->
    <div class="panel">
      <h3>üö® Live Alerts (Simulated)</h3>
      <table class="table" id="alertsTable" aria-label="Live fraud alerts">
        <thead>
          <tr>
            <th>Time (local)</th>
            <th>Country</th>
            <th>Location</th>
            <th>Channel</th>
            <th>Amount</th>
            <th>Signal</th>
          </tr>
        </thead>
        <tbody id="alertsBody">
          <!-- JS injects rows here -->
        </tbody>
      </table>
      <div class="actions" style="margin-top:10px">
        <button class="btn btn-outline" id="btnAddBurst">‚ö° Simulate Burst</button>
        <button class="btn btn-outline" id="btnClear">üßπ Clear</button>
      </div>
    </div>

    <!-- Transaction Monitor -->
    <div class="panel">
      <h3>üìä Transaction Monitor (Dummy)</h3>
      <table class="table" id="txTable" aria-label="Recent transactions">
        <thead>
          <tr>
            <th>Time (local)</th>
            <th>Country</th>
            <th>Location</th>
            <th>Method</th>
            <th>Amount</th>
            <th>Risk</th>
          </tr>
        </thead>
        <tbody id="txBody">
          <!-- JS injects rows here -->
        </tbody>
      </table>
    </div>

    <!-- Evidence & Case -->
    <div class="panel">
      <h3>üìë Evidence & Case Tools</h3>
      <div class="krow">
        <div>
          <div class="small" style="margin-bottom:8px">
            Generate a time-stamped <b>Evidence Report</b> capturing the latest alerts & transaction context.
          </div>
          <div class="actions">
            <button class="btn btn-gold" id="btnReport">‚¨áÔ∏è Download Evidence Report</button>
            <button class="btn btn-outline" id="btnFreeze">üßä Send Freeze Request (Sim)</button>
          </div>
        </div>
        <div>
          <pre class="log" id="log" aria-live="polite">[ FundGuard Demo Log ]
‚Äì Ready.</pre>
        </div>
      </div>
    </div>

    <!-- Footer note -->
    <div class="small">
      Need full access? Email <a href="mailto:invest@fundguardafrica.com">invest@fundguardafrica.com</a> or <a href="mailto:support@fundguardafrica.com">support@fundguardafrica.com</a>.
    </div>

  </div>
</section>

<footer>
  <div class="foot">
    <div class="brand">Fund<span class="fg">Guard</span> Africa</div>
    <div>¬© 2025 ‚Ä¢ <a href="/privacy.html">Privacy</a> ‚Ä¢ <a href="/terms.html">Terms</a></div>
  </div>
</footer>

<script>
/* ---------- Demo data & helpers (client-only, no backend needed) ---------- */
const countries = [
  { cc:"NG", name:"Nigeria",    city:["Lagos","Abuja","Port Harcourt"] },
  { cc:"GH", name:"Ghana",      city:["Accra","Kumasi","Tema"] },
  { cc:"ZA", name:"South Africa", city:["Johannesburg","Cape Town","Durban"] },
  { cc:"KE", name:"Kenya",      city:["Nairobi","Mombasa","Kisumu"] },
  { cc:"TZ", name:"Tanzania",   city:["Dar es Salaam","Arusha","Dodoma"] }
];

const channels  = ["Bank Transfer","Mobile Money","Card","Crypto Wallet","Exchange"];
const methods   = ["P2P","POS","Online","ATM","Wallet"];
const signals   = [
  { label:"Suspected Anomaly", cls:"tag-warn" },
  { label:"Likely Fraud",      cls:"tag-bad"  },
  { label:"Under Review",      cls:"tag-warn" },
  { label:"Cleared",           cls:"tag-ok"   }
];

const fmtAmt = v => "$" + v.toLocaleString(undefined,{maximumFractionDigits:0});
const nowStr = () => new Date().toLocaleString();

/* DOM refs */
const alertsBody = document.getElementById('alertsBody');
const txBody     = document.getElementById('txBody');
const kpiAnom    = document.getElementById('kpiAnom');
const kpiReports = document.getElementById('kpiReports');
const logEl      = document.getElementById('log');
let anomalyCount = 0, reportCount = 0;

/* Row factories */
function addAlertRow() {
  const c = countries[Math.floor(Math.random()*countries.length)];
  const city = c.city[Math.floor(Math.random()*c.city.length)];
  const ch = channels[Math.floor(Math.random()*channels.length)];
  const sig = signals[Math.floor(Math.random()*signals.length)];
  const amt = Math.floor(100 + Math.random()*5000);

  const tr = document.createElement('tr');
  tr.innerHTML = `
    <td>${nowStr()}</td>
    <td>${c.name}</td>
    <td>${city}</td>
    <td>${ch}</td>
    <td>${fmtAmt(amt)}</td>
    <td class="${sig.cls}">${sig.label}</td>
  `;
  alertsBody.prepend(tr);
  if (sig.label !== "Cleared") { anomalyCount++; kpiAnom.textContent = anomalyCount; }
}

function addTxRow() {
  const c = countries[Math.floor(Math.random()*countries.length)];
  const city = c.city[Math.floor(Math.random()*c.city.length)];
  const m = methods[Math.floor(Math.random()*methods.length)];
  const risk = ["Low","Medium","High"][Math.floor(Math.random()*3)];
  const amt = Math.floor(50 + Math.random()*10000);

  const tr = document.createElement('tr');
  tr.innerHTML = `
    <td>${nowStr()}</td>
    <td>${c.name}</td>
    <td>${city}</td>
    <td>${m}</td>
    <td>${fmtAmt(amt)}</td>
    <td>${risk}</td>
  `;
  txBody.prepend(tr);
}

/* Sim loops */
let alertTimer = setInterval(addAlertRow, 2200);
let txTimer    = setInterval(addTxRow,    1800);

/* Controls */
document.getElementById('btnAddBurst').addEventListener('click',()=>{
  for (let i=0;i<5;i++) setTimeout(addAlertRow, i*120);
  log("Simulated burst of alerts.");
});
document.getElementById('btnClear').addEventListener('click',()=>{
  alertsBody.innerHTML = ""; anomalyCount=0; kpiAnom.textContent=0;
  txBody.innerHTML = "";
  log("Cleared tables.");
});

/* Evidence report (client-side text fallback; if your app exposes window.generateEvidencePDF, we call that) */
document.getElementById('btnReport').addEventListener('click',()=>{
  if (typeof window.generateEvidencePDF === 'function') {
    window.generateEvidencePDF();               // use your existing PDF generator if present
    reportCount++; kpiReports.textContent = reportCount;
    log("Triggered built-in Evidence PDF generator.");
    return;
  }
  // Fallback: create a simple .txt file that downloads immediately
  const lines = [
    "FundGuard Evidence Report (Demo)",
    "Timestamp: " + new Date().toISOString(),
    "Summary: recent alerts & transactions context",
    "",
    "Recent Alerts:"
  ];
  [...alertsBody.querySelectorAll('tr')].slice(0,5).forEach(tr=>{
    const tds=[...tr.querySelectorAll('td')].map(td=>td.textContent.trim());
    lines.push(`- ${tds[0]} | ${tds[1]} - ${tds[2]} | ${tds[3]} | ${tds[4]} | ${tds[5]}`);
  });
  lines.push("", "Recent Transactions:");
  [...txBody.querySelectorAll('tr')].slice(0,5).forEach(tr=>{
    const tds=[...tr.querySelectorAll('td')].map(td=>td.textContent.trim());
    lines.push(`- ${tds[0]} | ${tds[1]} - ${tds[2]} | ${tds[3]} | ${tds[4]} | Risk ${tds[5]}`);
  });
  const blob = new Blob([lines.join("\n")], {type:"text/plain;charset=utf-8"});
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = `FundGuard_Evidence_Report_${Date.now()}.txt`;
  document.body.appendChild(a); a.click(); a.remove();
  reportCount++; kpiReports.textContent = reportCount;
  log("Downloaded evidence report (.txt fallback).");
});

/* Freeze request (sim) */
document.getElementById('btnFreeze').addEventListener('click',()=>{
  log("Freeze request queued for last anomaly path ‚Üí Exchange Z & Wallet Y (demo).");
});

function log(msg){ logEl.textContent += "\n‚Äì " + msg; logEl.scrollTop = logEl.scrollHeight; }
</script>

</body>
</html>

